function showAllStores(){myLatlng={lat:52.627853,lng:-1.845703},map.setCenter(myLatlng),map.setZoom(7),$(".resetZoomButton").hide()}function createMarker(e,t,o,l){var i=o,a=new google.maps.Marker({position:e,icon:image,zIndex:Math.round(-1e5*e.lat())<<5});google.maps.event.addListener(a,"click",function(){window.location.href="/shops/"+l.toLowerCase()+".htm"}),map.addListener("zoom_changed",function(){$(".resetZoomButton").fadeIn()}),a.addListener("mouseover",function(){infowindow.setContent("<strong>"+i+"</strong><br>Click for more information"),infowindow.open(map,this)}),a.addListener("mouseout",function(){infowindow.close()}),gmarkers.push(a)}function myclick(e){google.maps.event.trigger(gmarkers[e],"click")}function initialize(){gmarkers=[],map=null,markerclusterer=null,window.innerWidth<769?(zoomLevel=6,minZoomLevel=6):(zoomLevel=7,minZoomLevel=7);var e={zoom:zoomLevel,minZoom:minZoomLevel,maxZoom:16,center:new google.maps.LatLng(52.373713,-1.917114),mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"},{color:"#ececec"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45},{visibility:"on"},{color:"#dddddd"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{weight:"0.38"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"},{color:"#e4e4e4"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{weight:"0.27"},{visibility:"on"},{color:"#e5e5e5"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"labels",stylers:[{visibility:"off"},{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"},{color:"#ffffff"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"},{color:"#ff0000"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#ffffff"},{visibility:"on"}]}]};map=new google.maps.Map(document.getElementById("map_canvas"),e),google.maps.event.addListener(map,"click",function(){infowindow.close()});for(var t=[["Bath",51.385655,-2.361707,"bath"],["Brighton",50.822316,-.142128,"brighton"],["London, Chelsea",51.487054,-.169798,"chelsea"],["Harrogate",53.992978,-1.544687,"harrogate"],["Cambridge",52.206934,.117964,"cambridge"],["Cheltenham",51.898939,-2.077045,"cheltenham"],["London, Islington",51.539154,-.10236,"islington"],["Shepton Mallet, Kilver Court",51.190792,-2.536376,"kilver"],["Llandeilo",51.882577,-3.994105,"llandeilo"],["London, Marylebone",51.521358,-.151707,"Marylebone"],["London, Notting Hill",51.514515,-.198427,"nottinghill"],["Oxford",51.752331,-1.254184,"oxford"]],o=0;o<t.length;o++){var l=t[o],i=l[1],a=l[2],r=l[3],s=new google.maps.LatLng(i,a),n=l[0],y=n;createMarker(s,n,y,r)}var m={gridSize:20,averageCenter:!0,styles:[{url:"//s3.eu-west-2.amazonaws.com/toast-stores-files/images/TOAST_PinCluster-T-2.png",width:53,height:53,fontFamily:"arial",textSize:15,textColor:"black"}]};markerCluster=new MarkerClusterer(map,gmarkers,m)}var image="//s3.eu-west-2.amazonaws.com/toast-stores-files/images/TOAST_Pin_Basic_2.png";$(".showMap").click(function(){$(".mapHolder").html(""),$(".mapHolder").html('<div id="map_canvas"></div>'),initialize(),$(".closeMap").removeClass("hiddenBtn"),$(this).addClass("hiddenBtn")}),$(".closeMap").click(function(){$(".mapHolder").html(""),$(".showMap").removeClass("hiddenBtn"),$(this).addClass("hiddenBtn")});var infowindow=new google.maps.InfoWindow({size:new google.maps.Size(150,50)});$(document).ready(function(){$(".resetZoomButton").hide(),window.innerWidth>767?($(".storesIntro").show(),$(".mobileIntro").hide()):$(".mobileIntro").html("<div class='col-md-12'>"+$(".storesIntro").html()+"<p>Please select a store below:</p></div>")});