var legacyBasketModule=function(){var e={};return $(document).ready(function(){$("#mainContent").addClass("grid-container grid-parent"),$("#inner").addClass("legacy-max mobile-grid-100 tablet-grid-100"),$("br").not("#addressHolder br, #addressHolderSplit br").remove(),$(".promobutton").text("Apply Code"),$("tr.basketTableHeader th:last-child").hide(),$("#basketTable").html(function(){return $(this).html().replace(/<\/?strong>/g,"")});var e=$("#mainHeader").text();$("#mainHeader").wrap('<nav id="breadcrumb" class="hide-on-tablet hide-on-mobile grid-100 grid-parent">').wrap("<ul>").wrap("<li>"),$("#mainHeader").parent().parent().prepend('<li class="breadcrumb">'+e+"</li>").prepend('<li class="breadcrumb"><a href="/">HOME</a></li>'),$("#mainHeader").parent().remove(),$currentStatusBarAnchors=$(".statusBarCurrent a"),$(".statusBarCurrent").html($currentStatusBarAnchors),$tableRowList=$("#basketTableMain tbody tr");for(var a=0;a<$tableRowList.length;a++){var t=$($tableRowList[a]),n=t.find("td"),i=$($(n[6]).find("input"));i.attr("src","//d1kh76s6bjh8ww.cloudfront.net/img/Close_60px.png").css({width:"20px",height:"20px"})}$("#promoCode").html($("<p><span>IF YOU HAVE A PROMOTIONAL CODE</span><span>PLEASE ENTER IT HERE</span></p>")),buildBasketRecommendations=function(){$(".basket-recommendations-container");$("#inner").append('<div class="grid-50 tablet-grid-100 mobile-grid-100 basket-recommendations-container group-images"></div>'),$(".basket-recommendations-container").html('<span class="basket-recommendations-label">Others Like:</span><div></div><div></div><div></div>'),$(".basket-recommendations-container div").addClass("grid-33 tablet-grid-33 mobile-grid-33 basket-recommendations range-product"),$($(".basket-recommendations-container div")[0]).addClass("selected-range-product").attr("id",basketitem1[0]).html('<img class="grid-image"><span class="basket-recommendation-title">'+basketitem1[2]+'</span><span class="basket-recommendation-price">'+basketitem1[3]+"</span>"),$($(".basket-recommendations-container div")[1]).attr("id",basketitem2[0]).html('<img class="grid-image"><span class="basket-recommendation-title">'+basketitem2[2]+'</span><span class="basket-recommendation-price">'+basketitem2[3]+"</span>"),$($(".basket-recommendations-container div")[2]).attr("id",basketitem3[0]).html('<img class="grid-image"><span class="basket-recommendation-title">'+basketitem3[2]+'</span><span class="basket-recommendation-price">'+basketitem3[3]+"</span>"),basketitem1[3]!=basketitem1[4]&&$($(".basket-recommendations-container div")[0]).append('<span class="basket-recommendation-sale-price">'+basketitem1[4]+"</span>").find(".basket-recommendation-price").addClass("price-strike-through"),basketitem2[3]!=basketitem2[4]&&$($(".basket-recommendations-container div")[1]).append('<span class="basket-recommendation-sale-price">'+basketitem2[4]+"</span>").find(".basket-recommendation-price").addClass("price-strike-through"),basketitem3[3]!=basketitem3[4]&&$($(".basket-recommendations-container div")[2]).append('<span class="basket-recommendation-sale-price">'+basketitem3[4]+"</span>").find(".basket-recommendation-price").addClass("price-strike-through"),$("#inner").append(getRangeBuyOffTemplate())},onMobileSelectChange=function(e){setTimeout(function(){var a=$(e).attr("id"),t=a.replace("_mobile","");$("#basketTableMain #"+t).val($(e).val()),$("#basketTableMain #"+t).trigger("change")},0)},reskinBasketTable=function(){if(0==$(".mobile-product-list").length){for(var e=$("#basketTableMain tbody tr"),a=$('<ul class="mobile-product-list"></ul>'),t=0;t<e.length;t++){var n=$(e[t]),i=n.find("td").clone(!0),s=$(i[0]),o=$(i[1]),r=$(i[2]),d=$(i[3]),l=$(i[4]).find("select").clone(),p=$(i[5]),c=$(i[6]),m=$('<li class="item clearfix"></li>'),b=$("<div class='prod-img col grid_3 alpha'></div>");b.append(s.find("a")),m.append(b);var k=$("<div class='content'></div>"),v=$("<div class='prod-info col grid_5'></div>");v.append(k),m.append(v),k.append(o.find("a")[0]),k.append($("<div class='description'>"+o.find("#colour").html()+","+r.html()+"</div>")),k.append($("<div class='prod-code'><span class='sku'>"+o.find("#Full_productid").html()+"</span></div>")),k.append(o.find("span.stockWarning")[0]),k.append(o.find("span.unavailableWarning")[0]),k.append("<br>"),k.append(c.html()),k.append($('<div class="prod-price col grid_2"><p class="content">'+d.find("strong").text()+"</p></div>"));var u=$('<div class="prod-quan col grid_3"></div>'),g=$('<div class="content"></div>'),h=l.attr("id");l.attr("id",h+"_mobile"),l.attr("onchange","onMobileSelectChange("+l.attr("id")+")"),u.append(g),k.append(l),k.append($('<div class="prod-sub col grid_3 omega"><span class="show_mobile">Subtotal: </span><span class="content licost">'+p.text().trim()+"</span></div>")),a.append(m[0])}var f=$('<div class="subtotal-row clearfix"><div class="subtotal-block"><span class="basket-sub-label">TOTAL (excluding delivery):</span> <span id="basket-sub">'+$("#grandTotal").html()+"</span></div></div>");$("#basketTable").append(f),$("#basketTableMain").after(a),$("#basketTableMain").hide(),$(".totalWrapper").hide(),$(".promobutton").addClass("lightButtonBasket")}},addBasketToAccordion=function(){if(0==$("#mainContent #inner").hasClass("mobile-basket")){$("#mainContent #inner").addClass("mobile-basket"),$(".main-content").addClass("mobile-container");var e=$('<div class="totalWrapper"></div>');e.append($("#mainContent #inner #totalText").detach()),e.append($("#mainContent #inner #grandTotal").detach()),$("#mainContent #belowBasket").after(e[0]),$(".promobutton").text("Apply Code"),$("#promoCode").text("If you have a promotional code please enter it below:")}},Modernizr.mq("(max-width: 1024px)")&&(addBasketToAccordion(),reskinBasketTable()),$(".range-product").click(function(){$("body, html").animate({scrollTop:$(".basket-recommendations-container").offset().top},"250")}),$(window).resize(function(){Modernizr.mq("(max-width: 1024px)")?(addBasketToAccordion(),reskinBasketTable()):($("#mainContent #inner").removeClass("mobile-basket"),$("#belowBasket .clear").before($("#mainContent #inner #grandTotal").detach()),$("#belowBasket .clear").before($("#mainContent #inner #totalText").detach()),$(".totalWrapper").remove(),$(".main-content").removeClass("mobile-container"),$(".mobile-product-list").remove(),$(".subtotal-row").remove(),$("#basketTableMain").show(),$(".totalWrapper").show(),$(".promobutton").removeClass("lightButtonBasket").text("Apply Code"),$("#promoCode").html($("<p><span>If you have a promotional code</span><span>please enter it below</span></p>")))})}),e}();